# practikum-logistic-app
# Сервис расчет стоимости доставки

## Использованные технологии
Spring Boot, Spring Web, Spring Validation

## Описание работы сервиса
Сервис предназначен для расчета стоимости доставки по передаваемым параметрам. Взаимодействие с сервисом просходит через http запросы. 
Внутри сервиса реализован контроллер для обработки входящих запросов: DeliveryPriceController.
Сервис принимаем следующий запрос в формате json:
```
{   
    "deliveryRange": String/Double, //любое дробное число больше 0
    "cargoSize": String, //доступные значения small, large
    "fragile": Boolean, 
    "logisticNetworkLoad: Optional<String> //доступые значения default, high, veryHigh, critical. Значение по умолчанию - default
}
```
Все поля проходят валидацию при получении запроса. Если поле не валидно отдается код ответа 400 с указанием ошибки. 

Далее сервис передаем запрос в сервис расчета стоимости доставки DeliveryPriceService.
Стоимость рассчитывается в зависимости от:

*расстояния до пункта назначения:*

- более 30 км: +300 рублей к доставке;
- до 30 км: +200 рублей к доставке;
- до 10 км: +100 рублей к доставке;
- до 2 км: +50 рублей к доставке;

*габаритов груза:*

- большие габариты: +200 рублей к доставке;
- маленькие габариты: +100 рублей к доставке;

*хрупкости груза.* Если груз хрупкий — +300 рублей к доставке. Хрупкие грузы нельзя возить на расстояние более 30 км;

*загруженности службы доставки*. Стоимость умножается на коэффициент доставки:

- очень высокая загруженность — 1.6;
- высокая загруженность — 1.4;
- повышенная загруженность — 1.2;
- во всех остальных случаях коэффициент равен 1.

Минимальная сумма доставки — 400 рублей. Если сумма доставки меньше минимальной, выводится минимальная сумма.

Сервис может выбросить исключение, если:
1) Неверно указаны габариты груза.
2) Неверно указана загруженность сети доставки.
3) Хрупкий груз и расстояние доставки > 30 км.
В этих случаях отдается код ответа 500 с указанием ошибки.

## Запуск
Win: gradle.bat clean bootJar 
<br />*nix: ./gradlew clean bootJar
<br />Требуемая версия Java - 11
